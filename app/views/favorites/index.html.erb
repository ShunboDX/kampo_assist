<div class="bg-slate-50">
  <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6">
    <header class="flex items-end justify-between gap-4">
      <div class="space-y-1">
        <h1 class="text-2xl md:text-3xl font-extrabold tracking-tight text-slate-900">
          お気に入り一覧
        </h1>
        <p class="text-sm text-slate-600">
          <% if @kampos.present? %>
            <span class="font-semibold text-slate-900"><%= @kampos.size %></span> 件
          <% else %>
            0 件
          <% end %>
        </p>
      </div>

      <%= link_to "検索へ",
          step1_search_path,
          class: "inline-flex items-center justify-center rounded-xl
                  border border-slate-300 bg-white
                  px-4 py-2 text-sm font-semibold text-slate-700
                  hover:bg-slate-50 transition" %>
    </header>

    <% if @kampos.any? %>
      <section class="rounded-2xl border border-slate-200 bg-white shadow-sm overflow-hidden">
        <ul class="divide-y divide-slate-200">
          <% @kampos.each do |kampo| %>
            <li class="p-5 sm:p-6 hover:bg-slate-50 transition">
              <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
                <div class="min-w-0">
                  <h2 class="text-base font-bold text-slate-900">
                    <%= link_to kampo.name,
                        kampo_path(kampo),
                        class: "hover:underline" %>
                  </h2>

                  <% if kampo.kana_name.present? %>
                    <p class="mt-1 text-sm text-slate-600">
                      <%= kampo.kana_name %>
                    </p>
                  <% end %>
                </div>

                <div class="shrink-0">
                  <%= button_to "解除",
                        kampo_favorite_path(kampo),
                        method: :delete,
                        class: "inline-flex items-center justify-center rounded-xl
                                border border-slate-300 bg-white
                                px-4 py-2 text-sm font-semibold text-slate-700
                                hover:bg-slate-50 transition",
                        form: { data: { controller: "submit-disable",
                                        action: "turbo:submit-start->submit-disable#disable" } } %>
                </div>
              </div>
            </li>
          <% end %>
        </ul>
      </section>
    <% else %>
      <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
        <p class="text-slate-700 font-semibold">お気に入りはまだありません。</p>
        <p class="mt-2 text-sm text-slate-600">
          漢方詳細から「お気に入り」を追加すると、ここに表示されます。
        </p>

        <div class="mt-4">
          <%= link_to "漢方検索を始める",
              step1_search_path,
              class: "inline-flex items-center justify-center rounded-xl
                      bg-emerald-700 px-5 py-3 text-sm font-bold text-white
                      hover:bg-emerald-800 transition" %>
        </div>
      </div>
    <% end %>
  </div>
</div>
